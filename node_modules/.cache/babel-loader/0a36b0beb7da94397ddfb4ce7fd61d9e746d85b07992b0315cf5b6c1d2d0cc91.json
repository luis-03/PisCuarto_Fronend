{"ast":null,"code":"var _jsxFileName = \"/home/luis/Documentos/PisCuarto/proyecto.v3/fronend/rutas_evacuacion/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleEmailChange = e => {\n    setEmail(e.target.value);\n  };\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:8095/api/v1/inicio_sesion', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          correo: email,\n          clave: password\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        // Si la respuesta es exitosa, se guarda el token y el rol en el almacenamiento local\n        localStorage.setItem('token', data.data.token);\n        localStorage.setItem('rol', data.data.rol); // Almacena el rol del usuario\n        // Redirige al usuario a la página de mapas (/map) después del inicio de sesión exitoso\n        navigate('/map');\n      } else {\n        // Si la respuesta contiene un error, se muestra el mensaje de error\n        setError(data.msg);\n      }\n    } catch (error) {\n      console.error('Error al enviar la solicitud:', error);\n    }\n  };\n  const handleSignUpClick = () => {\n    // Redirige al usuario a la ruta /mapUsuario\n    navigate('/map2');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      backgroundImage: \"url('https://www.unl.edu.ec/sites/default/files/galeria/2022/02/b.jpg')\",\n      backgroundSize: 'cover',\n      height: '100vh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center mb-4\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            id: \"email\",\n            value: email,\n            onChange: handleEmailChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"form-label\",\n            children: \"Contrase\\xF1a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"password\",\n            value: password,\n            onChange: handlePasswordChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger mt-3\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center mt-3\",\n        children: [\"\\xBFNo tienes cuenta?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 39\n        }, this), \"Ingresa a las rutas de evacuaci\\xF3n desde\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 83\n        }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-link\",\n          onClick: handleSignUpClick,\n          children: \"AQU\\xCD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"04s5JR+/x8JdloJ2sm+29L/IvyI=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","error","setError","navigate","handleEmailChange","e","target","value","handlePasswordChange","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","correo","clave","data","json","ok","localStorage","setItem","token","rol","msg","console","handleSignUpClick","className","style","backgroundImage","backgroundSize","height","display","justifyContent","alignItems","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","id","onChange","required","onClick","_c","$RefreshReg$"],"sources":["/home/luis/Documentos/PisCuarto/proyecto.v3/fronend/rutas_evacuacion/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            const response = await fetch('http://localhost:8095/api/v1/inicio_sesion', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    correo: email,\n                    clave: password,\n                }),\n            });\n            const data = await response.json();\n\n            if (response.ok) {\n                // Si la respuesta es exitosa, se guarda el token y el rol en el almacenamiento local\n                localStorage.setItem('token', data.data.token);\n                localStorage.setItem('rol', data.data.rol); // Almacena el rol del usuario\n                // Redirige al usuario a la página de mapas (/map) después del inicio de sesión exitoso\n                navigate('/map');\n            } else {\n                // Si la respuesta contiene un error, se muestra el mensaje de error\n                setError(data.msg);\n            }\n        } catch (error) {\n            console.error('Error al enviar la solicitud:', error);\n        }\n    };\n\n    const handleSignUpClick = () => {\n        // Redirige al usuario a la ruta /mapUsuario\n        navigate('/map2');\n    };\n    \n    return (\n        <div\n            className=\"container-fluid\"\n            style={{\n                backgroundImage: \"url('https://www.unl.edu.ec/sites/default/files/galeria/2022/02/b.jpg')\",\n                backgroundSize: 'cover',\n                height: '100vh',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center'\n            }}\n        >\n            <div className=\"card p-4\">\n                <h2 className=\"text-center mb-4\">Login</h2>\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"email\" className=\"form-label\">Email</label>\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            id=\"email\"\n                            value={email}\n                            onChange={handleEmailChange}\n                            required\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"password\" className=\"form-label\">Contraseña</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            value={password}\n                            onChange={handlePasswordChange}\n                            required\n                        />\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">Iniciar sesión</button>\n                </form>\n                {error && <p className=\"text-danger mt-3\">{error}</p>}\n                <p className=\"text-center mt-3\">\n                    ¿No tienes cuenta?<br/>Ingresa a las rutas de evacuación desde<br/>&nbsp;\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-link\"\n                        onClick={handleSignUpClick}\n                    >\n                        AQUÍ\n                    </button>\n                </p>\n            </div>\n        </div>\n    );\n};\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}