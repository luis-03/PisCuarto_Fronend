{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const handleEmailChange=e=>{setEmail(e.target.value);};const handlePasswordChange=e=>{setPassword(e.target.value);};const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:8095/api/v1/inicio_sesion',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({correo:email,clave:password})});const data=await response.json();if(response.ok){// Si la respuesta es exitosa, se muestra un mensaje de inicio de sesión exitoso\nconsole.log('Inicio de sesión exitoso:',data);// También podrías almacenar el token de sesión en el almacenamiento local o en una cookie\n// Redirige al usuario a la página de mapas (/map) después del inicio de sesión exitoso\nnavigate('/map');}else{// Si la respuesta contiene un error, se muestra el mensaje de error\nconsole.error('Error al iniciar sesión:',data);setError(data.msg);}}catch(error){console.error('Error al enviar la solicitud:',error);}};const handleSignUpClick=()=>{// Redirige al usuario a la ruta /mapUsuario\nnavigate('/map2');};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",style:{backgroundImage:\"url('https://www.unl.edu.ec/sites/default/files/galeria/2022/02/b.jpg')\",backgroundSize:'cover',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",value:email,onChange:handleEmailChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",value:password,onChange:handlePasswordChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Iniciar sesi\\xF3n\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-3\",children:error}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-3\",children:[\"\\xBFNo tienes cuenta?\",/*#__PURE__*/_jsx(\"br\",{}),\"Ingresa a las rutas de evacuaci\\xF3n desde\",/*#__PURE__*/_jsx(\"br\",{}),\"\\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-link\",onClick:handleSignUpClick,children:\"AQU\\xCD\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","navigate","handleEmailChange","e","target","value","handlePasswordChange","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","correo","clave","data","json","ok","console","log","msg","handleSignUpClick","className","style","backgroundImage","backgroundSize","height","display","justifyContent","alignItems","children","onSubmit","htmlFor","type","id","onChange","required","onClick"],"sources":["/home/luis/Documentos/PisCuarto/proyecto.v2/fronend/rutas_evacuacion/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        try {\n            const response = await fetch('http://localhost:8095/api/v1/inicio_sesion', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    correo: email,\n                    clave: password,\n                }),\n            });\n            const data = await response.json();\n\n            if (response.ok) {\n                // Si la respuesta es exitosa, se muestra un mensaje de inicio de sesión exitoso\n                console.log('Inicio de sesión exitoso:', data);\n                // También podrías almacenar el token de sesión en el almacenamiento local o en una cookie\n                // Redirige al usuario a la página de mapas (/map) después del inicio de sesión exitoso\n                navigate('/map');\n            } else {\n                // Si la respuesta contiene un error, se muestra el mensaje de error\n                console.error('Error al iniciar sesión:', data);\n                setError(data.msg);\n            }\n        } catch (error) {\n            console.error('Error al enviar la solicitud:', error);\n        }\n    };\n\n    const handleSignUpClick = () => {\n        // Redirige al usuario a la ruta /mapUsuario\n        navigate('/map2');\n    };\n    \n    return (\n        <div\n            className=\"container-fluid\"\n            style={{\n                backgroundImage: \"url('https://www.unl.edu.ec/sites/default/files/galeria/2022/02/b.jpg')\",\n                backgroundSize: 'cover',\n                height: '100vh',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center'\n            }}\n        >\n            <div className=\"card p-4\">\n                <h2 className=\"text-center mb-4\">Login</h2>\n                <form onSubmit={handleSubmit}>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"email\" className=\"form-label\">Email</label>\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            id=\"email\"\n                            value={email}\n                            onChange={handleEmailChange}\n                            required\n                        />\n                    </div>\n                    <div className=\"mb-3\">\n                        <label htmlFor=\"password\" className=\"form-label\">Contraseña</label>\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"password\"\n                            value={password}\n                            onChange={handlePasswordChange}\n                            required\n                        />\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary\">Iniciar sesión</button>\n                </form>\n                {error && <p className=\"text-danger mt-3\">{error}</p>}\n                <p className=\"text-center mt-3\">\n                    ¿No tienes cuenta?<br/>Ingresa a las rutas de evacuación desde<br/>&nbsp;\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-link\"\n                        onClick={handleSignUpClick}\n                    >\n                        AQUÍ\n                    </button>\n                </p>\n            </div>\n        </div>\n    );\n};\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}